# API  de un sistema de reserva de butacas de cine

Las operaciones que la API debe soportar son las siguientes:
- Crear, eliminar y modificar películas.
- Crear, eliminar y modificar (parcialmente) salas.
- Crear, eliminar y modificar (parcialmente) usuarios.
- Crear una reserva para un usuario en una sala.
- Cancelar una reserva para un usuario en una sala.
- Modificar una reserva para un usuario en una sala.
- Registrar un pago de una reserva.

**Recursos identificados:**
- Película (movies): Representa una película en la cartelera del cine.
- Sala (rooms): Representa una sala del cine donde reproducir las películas.
- Usuario (users): Representa un usuario del cine.
- Reserva (reservations): Representa una reserva de un usuario para ver una película en una sala.
- Pago (payments): Representa un pago de una reserva realizada por un usuario.


| Método HTTP  | URI                                                    | Query Params  | Cuerpo de la Petición                                                  | Cuerpo de la Respuesta                                                                                                                                                      | Códigos de Respuesta     |
|--------------|--------------------------------------------------------|---------------|------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------|
| GET          | /movies                                                | N/A           | N/A                                                                    | `{"movies": [{"id": 1, "title": "Golda", "genre": "Drama", "duration": 100, "age": 12}, {"id": 2, "title": "Napoleon", "genre": "History", "duration": 158, "age": 16}]}`   | 200 OK<br/>400 Bad Request<br/>500 Internal Server Error   |
| POST         | /movies                                                | N/A           | `{"title": "Golda", "genre": "Drama", "duration": 100, "age": 12}`     | `{"id": 1, "title": "Golda", "genre": "Drama", "duration": 100, "age": 12}`                                                                                                 | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error |
| PUT          | /movies/{movieId}                                      | N/A           | `{"title": "Golda 2", "genre": "Drama", "duration": 100, "age": 12}`   | `{"id": 1, "title": "Golda 2", "genre": "Drama", "duration": 100, "age": 12}`                                                                                               | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error      |
| DELETE       | /movies/{movieId}                                      | N/A           | N/A                                                                    | `{"message": "Película eliminada de la cartelera."}`                                                                                                                        | 200 OK<br/>404 Not Found<br/>500 Internal Server Error      |
| GET          | /rooms                                                 | N/A           | N/A                                                                    | `{"rooms": [{"id": 1, "name": "Sala 1", "capacity": 100}, {"id": 2, "name": "Sala 2", "capacity": 80}]}`                                                                    | 200 OK<br/>400 Bad Request<br/>500 Internal Server Error   |
| POST         | /rooms                                                 | N/A           | `{"name": "Sala 1", "capacity": 100}`                                  | `{"id": 1, "name": "Sala 1", "capacity": 100}`                                                                                                                              | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error |
| PATCH        | /rooms/{roomId}                                        | N/A           | `{"capacity": 45}`                                                     | `{"id": 1, "name": "Sala 1", "capacity": 45}`                                                                                                                               | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error      |
| DELETE       | /rooms/{roomId}                                        | N/A           | N/A                                                                    | `{"message": "Sala eliminada."}`                                                                                                                                            | 200 OK<br/>404 Not Found<br/>500 Internal Server Error      |
| GET          | /users                                                 | N/A           | N/A                                                                    | `{"users": [{"id": 1, "name": "Juan Herrera", "email": "juan_herrera@hotmail.com"}, {"id": 2, "name": "Helena Montes", "email": "hmontes@gmail.com"}]}`                     | 200 OK<br/>400 Bad Request<br/>500 Internal Server Error   |
| POST         | /users                                                 | N/A           | `{"name": "Juan Herrera", "email": "juan_herrera@hotmail.com"}`        | `{"id": 1, "name": "Juan Herrera", "email": "juan_herrera@hotmail.com"}`                                                                                                    | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error |
| PATCH        | /users/{userId}                                        | N/A           | `{"email": "juan_herrera23@gmail.com"}`                                | `{"id": 1, "name": "Juan Herrera", "email": "juan_herrera23@gmail.com"}`                                                                                                    | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error      |
| DELETE       | /users/{userId}                                        | N/A           | N/A                                                                    | `{"message": "Usuario eliminado."}`                                                                                                                                         | 200 OK<br/>404 Not Found<br/>500 Internal Server Error      |
| POST         | /users/{userId}/reservations                           | N/A           | `{"room_id": "1", "movie_id": "1", "seat_row": "6", "seat_number": 8}` | `{"id": 1, "user_id": 1, "room_id": "1", "movie_id": "1", "seat_row": "6", "seat_number": 8}`                                                                               | 202 Accepted<br/>400 Bad Request<br/>400 Not Found<br/>500 Internal Server Error   |
| DELETE       | /users/{userId}/reservations/{reservationId}           | N/A           | N/A                                                                    | `{"message": "Reserva cancelada."}`                                                                                                                                         | 200 OK<br/>400 Not Found<br/>500 Internal Server Error   |
| PUT          | /users/{userId}/reservations/{reservationId}           | N/A           | `{"room_id": "1", "movie_id": "1", "seat_row": "7", "seat_number": 4}` | `{"id": 1, "user_id": 1, "room_id": "1", "movie_id": "1", "seat_row": "7", "seat_number": 4}`                                                                               | 200 OK<br/>400 Bad Request<br/>400 Not Found<br/>500 Internal Server Error   |
| POST         | /users/{userId}/reservations/{reservationId}/payments  | N/A           | `{"amount": 15.40, "method": "card"}`                                  | `{"id": 1, "user_id": 1, "reservation_id": 1, "amount": 15.40, "method": "card"}`                                                                                           | 201 Created<br/>400 Bad Request<br/>400 Not Found<br/>500 Internal Server Error   |


